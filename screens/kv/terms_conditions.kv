<TermsConditionsScreen>:
    name: "termsconditions"
    MDBoxLayout:
        orientation: "vertical"
        padding: "20dp"
        spacing: "10dp"
        size_hint: 1, 1
        pos_hint: {"center_y": 0.5}
        # canvas.before:
        #     Color:
        #         rgba: 1, 0, 0, 1  # Red border color
        #     Line:
        #         width: 2
        #         rectangle: self.x, self.y, self.width, self.height
        
        MDLabel:
            text: "User Agreement"
            font_style: "H3"
            halign: "center"
            size_hint_y: None
            height: self.texture_size[1] + dp(10)

        MDScrollView:
            size_hint: 1, 1
            do_scroll_x: False

            MDBoxLayout:
                orientation: "vertical"
                adaptive_height: True  # Ensure this container adapts to text height
                padding: "10dp"
                
                MDLabel: 
                    text: "By using this app, you accept full responsibility for the upkeep of your hydroponic system and understand that the information and suggestions provided are merely meant to be informative.  To offer insights and enhance your hydroponic experience, the app gathers information on plant development, environmental factors, and system function.  Nevertheless, the app is not a replacement for expert counsel and does not promise any particular results.  Any losses or damages, including damage to plants or equipment, are not the developers' responsibility.  Your privacy is safeguarded, and unless mandated by law, data will not be shared without your consent.  Payment may be necessary for subscription-based premium features, and all costs are non-refundable.  Acceptance of the updated terms is indicated by continued use following revisions."
                    size_hint_y: None
                    font_style: "Body1"
                    height: self.texture_size[1]  # Ensure the label expands to fit text
                    text_size: self.width, None  # Prevent text cutoff
                    halign: "left"
                    valign: "top"
        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(48)  # Adjust height for better alignment
            spacing: "10dp"
            padding: "10dp"

            MDCheckbox:
                id: terms_checkbox
                size_hint: None, None
                size: dp(24), dp(24)  # Properly size the checkbox
                active: False

            MDLabel:
                text: "By continuing, you agree to the terms and conditions of this app. Please read them carefully."
                theme_text_color: "Secondary"
                halign: "left"
                font_size: dp(12)
                size_hint_x: 1

        MDRaisedButton:
            text: "I Agree"
            theme_width: "Custom"
            size_hint_x: 1
            disabled: not terms_checkbox.active
            on_release: root.manager.current = "introductions"
